<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Google Maps Antimeridian</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, sans-serif;
        }
        #map {
            width: 100%;
            height: 100%;
        }
        .controls-panel {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 10px 14px;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            width: 190px;
        }
        .controls-panel label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            font-size: 13px;
            color: #fff;
        }
        .controls-panel select {
            width: 100%;
            padding: 6px 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
            background: #fff;
            color: #000;
            font-size: 13px;
        }
        .controls-panel select:focus {
            outline: none;
            border-color: #31d7ff;
        }
    </style>
</head>
<body>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAK0hzEteAwyZd9QkfLJI0fj6gg3as075c&callback=initMap" defer></script>
<div id="map"></div>
<div class="controls-panel">
    <label for="dataset-select">H3 Dataset:</label>
    <select id="dataset-select">
        <option value="https://raw.githubusercontent.com/opengeoshub/vgriddemo/refs/heads/main/antimeridian/data/h3_0_origin.geojson" selected>H3 origin</option>
        <option value="https://raw.githubusercontent.com/opengeoshub/vgriddemo/refs/heads/main/antimeridian/data/h3_0_shift_west.geojson">H3 shifting</option>
        <option value="https://raw.githubusercontent.com/opengeoshub/vgriddemo/refs/heads/main/antimeridian/data/h3_0_split.geojson">H3 splitting</option>
    </select>
</div>

<script>
    let map;

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 0, lng: 0},
            zoom: 1,
            mapTypeId: 'roadmap'
        });

        const datasetSelect = document.getElementById('dataset-select');

        map.data.setStyle({
            strokeColor: '#ff0000',
            strokeWeight: 1.5,          
        });

        datasetSelect.addEventListener('change', (event) => {
            loadDataset(event.target.value);
        });       

        loadDataset(datasetSelect.value);
    }

    function loadDataset(url) {
        map.data.forEach((feature) => map.data.remove(feature));
        map.data.loadGeoJson(url, null, () => {
            map.data.revertStyle();
        });
    }

    window.initMap = initMap;
</script>
</body>
</html>

